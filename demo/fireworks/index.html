
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>烟花燃放</title>
<script>
    document.createElement('canvas');
</script>
<script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy.js"></script>



</head>
<a href="./firemaker.html" style="position:fixed;top:50px;left:50px;z-index:11111111">自定义烟花图案</a>
<body style="background:#ffc;overflow-x:hidden;" >
<div id="test" style="width:100%;height:550px;position:absolute;top:0px;left:0px;border:1px solid #ccc;">
    <div id="tests" style="width:800px;height:200px;position:absolute;top:110px;left:100px;border :1px dashed #ccc;">
</div>

<script src="./fireworks.js"></script>
<script>
var gtext = '621,56,630,56,639,56,648,56,612,57,650,57,606,58,602,59,620,59,629,59,638,59,647,59,598,60,616,60,594,61,605,61,591,62,601,62,588,63,597,63,585,64,595,64,666,64,583,65,592,65,668,65,580,66,590,66,578,67,587,67,576,68,574,69,571,70,665,70,568,72,566,73,664,73,564,74,666,74,562,75,663,75,559,77,658,78,556,79,656,79,654,80,553,81,650,81,557,82,644,82,655,82,608,83,617,83,626,83,635,83,659,83,549,84,604,84,649,84,552,85,601,85,611,85,620,85,629,85,638,85,550,86,598,86,607,86,661,86,596,87,605,87,658,87,544,88,593,88,602,88,591,89,657,89,589,90,660,90,587,91,656,92,540,93,584,93,582,94,541,95,652,95,579,96,432,97,441,97,450,97,459,97,535,97,577,97,425,98,470,98,653,98,419,99,446,99,455,99,473,99,580,99,651,99,414,100,433,100,458,100,467,100,534,100,573,100,646,100,410,101,429,101,469,101,487,101,536,101,406,102,480,102,489,102,531,102,570,102,403,103,413,103,482,103,491,103,500,103,509,103,518,103,574,103,642,103,400,104,409,104,485,104,494,104,521,104,397,105,407,105,488,105,524,105,571,105,394,106,404,106,486,106,495,106,504,106,513,106,565,106,638,106,391,107,402,107,492,107,520,107,388,108,411,108,635,108,385,109,425,109,633,109,382,110,476,110,533,110,636,110,380,111,410,111,420,111,473,111,529,111,561,111,630,111,376,112,426,112,470,112,479,112,536,112,563,112,628,112,432,113,441,113,468,113,641,113,375,114,400,114,436,114,445,114,466,114,625,114,372,115,397,115,440,115,463,115,472,115,535,115,556,115,623,115,394,116,442,116,461,116,558,116,629,116,639,116,444,117,459,117,539,117,626,117,395,118,447,118,457,118,537,118,624,118,373,119,449,119,371,120,552,120,638,120,554,121,393,122,540,122,641,122,370,123,446,123,544,123,553,123,443,124,541,124,369,125,392,125,441,125,545,125,637,125,438,126,542,126,639,126,368,127,436,127,546,127,433,128,442,128,543,128,636,128,431,129,638,129,429,130,388,131,426,131,424,132,544,132,387,133,422,133,547,133,420,134,634,134,364,135,390,135,417,135,415,136,633,136,320,137,329,137,338,137,347,137,363,137,413,137,312,138,349,138,410,138,629,138,305,139,362,139,408,139,548,139,631,139,300,140,318,140,327,140,336,140,345,140,367,140,406,140,626,140,295,141,313,141,356,141,369,141,404,141,291,142,360,142,372,142,387,142,401,142,623,142,288,143,298,143,365,143,399,143,545,143,285,144,294,144,390,144,405,144,620,144,281,145,292,145,394,145,624,145,278,146,289,146,380,146,398,146,617,146,276,147,383,147,615,147,273,148,282,148,385,148,548,148,612,148,270,149,293,149,302,149,610,149,621,149,267,150,391,150,264,151,316,151,381,151,614,151,261,152,291,152,300,152,318,152,379,152,545,152,257,153,311,153,320,153,375,153,255,154,314,154,323,154,373,154,382,154,263,155,281,155,319,155,328,155,371,155,324,156,368,156,624,156,276,157,327,157,366,157,548,157,279,158,329,158,364,158,620,158,331,159,362,159,359,160,619,160,252,161,357,161,545,161,621,161,338,162,354,162,363,162,251,163,340,163,352,163,272,164,337,164,349,164,247,165,274,165,343,165,355,165,615,165,249,166,345,166,548,166,617,166,270,167,248,168,273,168,356,168,365,168,610,168,369,169,335,170,353,170,373,170,545,170,609,170,333,171,366,171,375,171,611,171,330,172,340,172,370,172,605,172,245,173,269,173,334,173,372,173,608,173,247,174,272,174,327,174,376,174,602,174,244,175,331,175,548,175,600,175,268,177,323,177,384,177,596,177,386,178,594,178,243,179,388,179,545,179,592,179,246,180,324,180,589,180,598,180,271,181,385,181,587,181,318,183,591,183,389,184,548,184,586,184,319,186,393,186,243,188,272,188,545,188,583,188,246,189,392,189,582,191,269,193,395,193,548,193,576,193,273,194,574,194,579,195,270,196,570,196,243,197,545,197,568,197,246,198,565,198,271,199,563,199,572,199,310,200,560,200,274,201,557,201,566,201,244,202,309,202,552,202,247,203,400,203,548,203,558,203,275,204,308,206,549,206,276,207,311,207,401,207,248,208,398,208,545,208,245,209,277,209,274,210,543,211,278,212,275,213,544,213,249,215,308,215,276,216,311,216,401,216,280,217,398,217,536,217,545,217,250,218,277,218,548,218,537,219,281,220,534,220,251,221,278,221,279,223,249,224,282,224,308,224,252,225,311,225,401,225,527,225,398,226,545,226,253,227,526,227,548,227,250,228,528,228,537,228,534,229,251,230,254,231,535,231,356,232,519,232,308,233,252,234,311,234,355,234,401,234,518,234,255,235,357,235,398,235,523,235,545,235,253,236,354,236,363,236,514,236,526,236,548,236,256,237,360,237,364,238,510,239,538,239,254,240,535,240,257,241,271,241,280,241,365,241,513,241,266,242,295,242,308,242,349,242,362,242,506,242,258,243,299,243,311,243,346,243,401,243,262,244,272,244,281,244,292,244,344,244,398,244,503,244,536,244,545,244,265,245,296,245,342,245,526,245,548,245,253,246,263,246,300,246,319,246,338,246,348,246,361,246,500,246,250,247,260,247,305,247,323,247,332,247,343,247,364,247,527,247,248,248,497,248,524,248,538,248,246,249,320,249,360,249,244,250,322,250,331,250,494,250,242,251,359,251,498,251,539,251,240,252,401,252,491,252,238,253,398,253,495,253,535,253,545,253,488,254,235,255,486,255,532,255,544,255,355,256,484,256,527,256,232,257,489,257,360,258,481,258,528,258,229,259,479,259,534,259,543,259,233,260,477,260,525,260,546,260,401,261,475,261,529,261,539,261,230,262,353,262,398,262,535,262,545,262,224,263,349,263,471,263,542,263,352,264,469,264,346,265,467,265,348,266,465,266,357,267,463,267,220,268,461,268,543,268,222,269,277,269,286,269,341,269,356,269,459,269,273,270,291,270,359,270,401,270,457,270,270,271,298,271,344,271,398,271,454,271,215,272,267,272,276,272,285,272,337,272,452,272,217,273,265,273,274,273,292,273,335,273,450,273,263,274,297,274,306,274,332,274,358,274,447,274,458,274,538,274,261,275,300,275,328,275,355,275,445,275,259,276,305,276,323,276,336,276,357,276,442,276,537,276,211,277,308,277,440,277,449,277,213,278,256,278,313,278,436,278,531,278,254,279,401,279,434,279,443,279,461,279,398,280,431,280,448,280,530,280,206,281,251,281,354,281,428,281,438,281,533,281,424,282,462,282,353,283,421,283,432,283,205,284,247,284,355,284,418,284,445,284,207,285,250,285,352,285,414,285,425,285,528,285,410,286,525,286,351,287,406,287,446,287,459,287,242,288,401,288,413,288,398,289,409,289,449,289,521,289,203,290,350,290,524,290,199,291,462,291,202,292,353,292,238,293,349,293,463,293,198,294,240,294,352,294,460,294,515,294,200,295,348,295,518,295,351,296,446,296,233,297,347,297,235,298,398,298,449,298,512,298,194,299,350,299,401,299,509,299,196,300,193,301,450,301,195,302,229,302,463,302,510,302,231,303,447,303,456,303,504,303,191,304,455,305,192,306,224,306,458,306,398,307,461,307,499,307,401,308,464,308,502,308,223,309,448,309,225,310,495,310,220,311,450,312,492,312,188,313,341,313,460,314,489,314,221,315,340,315,455,315,217,316,398,316,461,316,486,316,339,317,401,317,458,317,334,318,483,318,216,319,487,319,333,320,480,320,484,321,477,322,475,323,212,324,327,324,214,325,325,325,398,325,472,325,320,326,330,326,401,326,470,326,211,327,213,328,319,328,467,328,180,329,465,329,318,330,179,331,321,331,462,331,460,332,178,333,458,333,316,334,398,334,463,334,177,335,401,335,455,335,315,336,453,336,207,337,317,337,451,337,449,338,176,339,206,339,400,339,447,339,179,340,312,340,397,340,445,340,205,341,443,341,178,342,313,342,441,342,175,343,439,343,437,344,399,345,435,345,204,346,396,346,433,346,207,347,280,347,431,347,174,348,282,348,305,348,429,348,279,349,303,349,314,349,427,349,395,350,425,350,278,351,422,351,312,352,420,352,173,353,394,353,418,353,203,354,297,354,313,354,416,354,241,355,316,355,393,355,413,355,243,356,294,356,411,356,240,357,292,357,315,357,392,357,409,357,242,358,290,358,406,358,272,359,288,359,404,359,172,360,205,360,274,360,283,360,293,360,317,360,402,360,175,361,291,361,321,361,400,361,202,362,268,362,318,362,398,362,322,363,389,363,271,364,394,364,234,365,171,366,204,366,263,366,382,366,174,367,266,367,328,367,201,368,230,368,239,368,260,368,379,368,258,369,331,369,235,370,256,370,327,370,376,370,385,370,253,371,334,371,373,371,173,372,200,372,250,372,259,372,332,372,370,372,380,372,170,373,203,373,245,373,257,373,366,373,378,373,225,374,238,374,348,374,357,374,227,375,199,376,224,376,243,376,343,376,221,377,346,377,355,377,198,379,223,380,173,381,220,381,170,382,197,382,200,383,214,383,171,384,196,384,218,384,174,385,199,385,195,386,210,386,172,388,194,388,207,388,175,389,205,389,173,390,198,390,208,390,176,391,201,391,187,393,196,393,185,394,177,395,190,395,188,396,178,397'
    KISSY.use('mui/fireworks',function(S,Fireworks){
        var fire = new Fireworks('#test',gtext,{
            bombWidth:150,
            //设置爆炸中心点的范围
            bombRectWidth: 800,
            bombRectHeight: 200,
            bombRectOffset: {left:100,top:100}
        })
        function random(min,max,notInt){
            var ret = min+Math.random()*(max-min);
            return notInt ? ret : Math.ceil(ret);
        }
        function play(){
            fire.play();
            fire.on('played',function(){
                //setTimeout(function(){
                    fire.setBombWidth(700,random(100,300,true));
                    fire.setSustainedTime(random(80,100,true));
                    setTimeout(function(){
                        fire.play();
                    },400)
                //},3000)
            })
        }
        setTimeout(function(){
            document.title="play";
            play();
        },1000)
    })
</script>

</body>
</html>
