
<!doctype html>
<html>
	<head>
		<meta  charset="utf-8"/>
		<meta name="keywords" content="前端菜鸟 前端工程师 蜗眼" />	
		<meta name="description" content="游离于互联网的前端工程师，关注创新前端技术，关注自实现现有技术" />
		<meta http-equiv="imagetoolbar" content="no" />
		<meta name="title" content="蜗眼的文章列表" />
		<title> @蜗眼-首页</title>
		<link rel="stylesheet" href="assets/style/base.css" type="text/css"/>
		<script src="assets/script/main.js" type="text/javascript"></script>
	</head>
	<body>


	<div class="wraper index">

		<div class="content"  >

			<div class="main clearfix">
	<div class="article">
			<h1>@蜗眼</h1>
			<div>
				<p>这里是<strong>蜗眼</strong>同志在互联网上的一个栖息地，他好不容易才找到这样一个净土，就不要再驱赶他了吧！</p>	
				<p><strong>蜗眼</strong> 是一个刚出道不久的前端工程师，他入世不深还很菜，他有点高傲、有点自大。在这里我恳请大家原谅他的高傲、自大。</p>
				
<blockquote class="inr">现在的人变懒了，都不肯去造“轮子”，以至于越来越多的人只会使用轮子了。他们不知到这个轮子是如何产生的，更不知道这个轮子的所有细节以及制作这个轮子时所犯过的过错... 所以我推崇"独立思考制作轮子"的过程！</blockquote>

			</div>
	</div>
					<div class="article">
						<h2>关于我</h2>
						<div>
							<p>互联网花名<strong>蜗眼</strong>、88年出生于地球、爱好前端开发<br/>联系我：iceet[at]uoeye.com<br/>[从蜗牛的眼睛里看世界，蜗牛虽小但眼内的世界同样五彩缤纷]</p>
						</div>
						<div class="aside">
							人生在世也就那么几十年，是荒废着过还是充实着过，就看你自己了！
						</div>
					</div>
				
					<div class="article">
						<div>
						<ul>
							<li><a href="https://github.com/CNEYE/Tiny" target="_blank">Tiny模版</a> （一个简单的基于smarty语法的模版函数）</li>
							<li><a href="https://github.com/CNEYE/Jot" target="_blank">Jot 选择器</a> （一个简单实用的dom选择函数）</li>
							<li><a href="https://github.com/CNEYE/Highlight" target="_blank">语法高亮器</a> （一个简单实用的语法高亮函数）</li>
						</ul>
						</div>
					</div>
</div>

<div class="new">最新文章</div>
<div class="article post">

	<h1>三七： 什么是事件广播（Emitter）</h1>
	
	<div class="article">
		<p>”事件广播“具体该怎么称呼，可能我也说不出个所以然，暂且就叫他事件广播吧。在我看来事件广播也是解决类与类之间依赖耦合的一种方式。</p>

<h2 id="section">什么是事件广播</h2>
<p>其实我也没有事件广播的概念，也没有深入行业圈去弄个所以然。我最初了解事件广播（那时候我还不知道叫这个）是在一次与NodeJS的邂逅，那时候我感觉这个东西很管用的。举个例吧，例如A，B两个对象，A、B不能有耦合，在这种情况下B怎么知道A发生了什么呢。这就需要事件广播了。A在发生事件的时候广播一个事件，B对这个广播进行接受，这样就达到了需求。</p>

<h2 id="emitter">Emitter</h2>
<p>这个类名字的来源出至NodeJS里面的EventEmitter类，NodeJS的EventEmiiter类可以参见nodejs的源码，本文说说的Emitter实现了如下接口：addListener,on,once,removeListener，trigger。on是addListener的一个简写名。</p>

<p>addListener,on,once 这三个接口通常有事件广播接收责调用，而trigger通常由广播发出者调用。</p>

<h2 id="beeemitter">Bee.Emitter</h2>
<p>详细代码见 <a href="https://github.com/CNEYE/Bee/blob/master/Bee.js">Bee.Emitter</a>最后部分 ，代码演示如下：</p>

<pre class="jscript">
//这里定义类A和类B，类A中有一个方法a，触发一个a事件
//类B想在A触发a的时候调用方法b

function A(){};
A.prototype = {
	a: function(){
		this.trigger('ona',{data:'data'})
	}
};
//这里A类继承Bee.Emitter类
Bee.copy(A,Bee.Emitter);
function B(){};
B.prototype = {
	b: function(data){
		console.log('trigger B.b',data);
	}
};

//下面是调用部分
var aa = new A;//实例化
var bb = new B;
//在aa上注册广播ona的接受接受器为bb.b方法
aa.on('ona',bb.b);
aa.on('onaa',bb.b);
</pre>

		<div class="aside">
			<ul>	
				<li>时间: November Nov, 2012</li>
				<li>分类：javascript</li>
				<li>标签：三七</li>
			</ul>
		</div>
	</div>

</div>
<div class="alist article">
	<h3>文章列表</h3>
	<ul>
		
			<li><a href="/javascript/2012/11/17/emitter.html" >三七： 什么是事件广播（Emitter）</a>
			</li>
		
			<li><a href="/javascript/2012/11/16/deferred.html" >三七： 什么是延迟列表（Deferred）</a>
			</li>
		
			<li><a href="/game/2012/11/15/engine.html" >HTML5 游戏引擎列表</a>
			</li>
		
	</ul>
</div>


			<div class="footer">

				Copyright © 2011 所有文字内容在CC-by-sa-3.0协议下发布。

			</div>

		</div>
		<div id="fly" style="bottom:-109px;" class="flying"></div>
<script type="text/javascript">  
	Highlighter.HighlightAll();
</script> 
</body>
</html>


